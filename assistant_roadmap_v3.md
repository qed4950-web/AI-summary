# 🚀 AI 데스크톱 비서 로드맵 (갱신판)

## 1) 변경사항 요약
- 지식 관리 + 스마트 검색 **통합** → **지식·검색 비서 (Knowledge & Search Agent)**
- 이메일 옵션 **제외** (추후 IMAP/SMTP 등 무료 연동 가능성 검토)

## 2) 목표 & 원칙
- 하나의 프로그램 + **모듈형 플러그인 구조** (코어는 가볍게, 기능은 On-Demand 로드)
- **스마트 폴더** 중심 사용성 (폴더 = 업무/사람/문서유형 단위 정책 적용)
- **로컬 우선, 클라우드 선택** (폴더별 처리 모드 설정)

## 3) 아키텍처 개요
```
[Desktop 앱 Shell]
   │
   ├─ Core Engine
   │   ├─ Indexer/Scanner
   │   ├─ Retriever
   │   ├─ Summarizer
   │   ├─ Policy Engine (Smart Folder)
   │   ├─ Job Scheduler
   │   └─ Model Manager
   │
   ├─ Plugins (Agents)
   │   ├─ Photo Agent
   │   ├─ Meeting Agent
   │   └─ Knowledge & Search Agent
   │
   └─ UI
       ├─ 설치 마법사
       ├─ 폴더 인스펙터
       └─ 작업 센터
```

## 4) 스마트 폴더 (폴더 단위 정책)
- 자동 분류: **부서/인물/문서유형** 기준 폴더링
- 기능 스코프: 폴더별 허용 **에이전트 선택**
- 보안/처리 모드: `로컬만`, `하이브리드`, `PII 필터링`, `요약만 저장`
- 인덱싱: 실시간/주기/수동, 야간 배치
- 보존정책: 요약/캐시 보존기간, 미리보기 캐시 사용 여부

예시 정책(JSON):
```json
{
  "path": "D:/주연테크/사업기획부",
  "agents": ["meeting", "knowledge_search"],
  "security": {"processing": "local_only", "pii_filter": true},
  "indexing": {"mode": "scheduled", "cron": "0 3 * * *"},
  "retention": {"summary_days": 180, "preview_cache": false}
}
```

## 5) 에이전트별 기능 (MVP)
### 5.1 사진 비서 (Photo Agent)
- 자동 태깅(날짜/장소/인물)
- **중복·유사 사진 정리**, 베스트샷 추천
- 선택 폴더만 인덱싱, GPU/ONNX 최적화

### 5.2 회의 비서 (Meeting Agent)
- STT(오디오→문자), **회의 요약**, 액션아이템/결정사항 추출
- 프로젝트/부서 폴더 자동 저장·요약
- 실시간 자막(옵션) 또는 **사후 처리(기본)**

### 5.3 지식·검색 비서 (Knowledge & Search Agent)
- 문서 **임베딩/요약/키포인트**, 자연어 **질의→근거 문서** 연결
- 통합 검색(파일/메타데이터), **출처 링크·미리보기** 제공
- 폴더 스코프 기본, **전역 검색은 명시적으로 전환**

## 6) 단계별 로드맵
- **P0: Core + 스마트 폴더** — 정책 엔진, 폴더별 인덱싱/보안/주기, 기초 검색
- **P1: 지식·검색 고도화** — 요약/Q&A, 출처 링크, 작업 센터
- **P2: 회의 비서 MVP** — STT·사후요약, 실시간 자막(옵션), 액션아이템 링크
- **P3: 사진 비서 MVP** — 태깅·중복 정리·베스트샷, GPU/CPU 지원
- **P4: 하이브리드/관리** — 클라우드 오프로딩, 감사/권한, 모델 자동 선택

## 7) 성능/자원 목표(권장)
- Idle 메모리: 300–500MB
- 작업 피크: 문서 1.2GB, 사진 2.5GB, STT 1.5GB
- 저장소: 폴더별 캐시 상한 2–10GB, 증분 인덱싱

## 8) 보안/프라이버시
- 폴더 정책 우선(로컬/클라우드/PII), 최소 권한, 감사 로그
- 민감 폴더: 요약만 저장, 본문 캐시 금지

## 9) UX 플로우
1. **설치 마법사**: 폴더 선택 → 처리 모드 → 인덱싱 주기
2. **폴더 인스펙터**: 정책/상태/캐시량/허용 에이전트/재인덱싱
3. **작업 센터**: 최신 요약/액션아이템/알림, 재시도·스케줄
4. **검색 창**: 영역 필터, 근거 하이라이트, 파일 열기

## 10) 테스트 체크리스트
- 대용량 인덱싱 속도/메모리, 스코프 격리, 클라우드 차단
- 사진 중복/유사 정리 정확도, 롤백/복구
- 회의 액션아이템 링크 정확성, 장애 복구(중단/재개)

## 11) KPI
- 문서 탐색 **5분 → 30초**
- 자동 요약 활용률 **40%+**
- 중복 사진 **20% 절감**
- 정책 위반 **0건**

## 12) 향후 고려 (이메일 연동)
- 현재 옵션 제외
- 추후 **IMAP/SMTP** 또는 로컬 클라이언트 연동 검토
- 개인정보/비용 이슈 검토 후 하이브리드 처리 정책 수립

## 13) 실행 계획 (작업 순서 & 사이클)
- **Cycle 0 – 기반 정리 및 준비**
1. **기반 정리**
   - 코어 저장소 구조 정리, 패키지/모듈 스켈레톤 생성
   - 스마트 폴더 정책 스키마 초안 및 설정 파일 포맷(예: YAML/JSON) 확정
    - 공용 로깅/테스트 인프라 구축
    - 자료 정리: `docs/cycles/cycle_0.md`에 작업 결과·결정 사항 기록
- **Cycle 1 – P0 (스마트 폴더 + 코어 엔진)**
2. **P0 착수 – 스마트 폴더 + 코어 엔진**
   - 파일 스캐너/인덱서와 정책 엔진 연동
   - 폴더 단위 보안·인덱싱 주기 적용 로직 구현
    - 작업 스케줄러/모델 매니저 기본 기능 개발
    - 자료 정리: `docs/cycles/cycle_1.md`에 구현 내용·테스트·리스크 적재
- **Cycle 2 – P1 (지식·검색 고도화)**
3. **P1 – 지식·검색 고도화**
   - 문서 임베딩/요약 파이프라인 통합, 근거 하이라이트 제공
    - 전역/폴더 스코프 전환 UX 구현, 작업 센터 MVP 작성
    - 자료 정리: `docs/cycles/cycle_2.md`에 주요 변경점과 향후 개선 메모 작성
- **Cycle 3 – P2 (회의 비서 MVP)**
4. **P2 – 회의 비서 MVP**
   - STT 파이프라인 연결, 사후 요약과 액션 아이템 추출
    - 프로젝트/폴더 자동 저장 및 폴더 정책 연동 테스트
    - 자료 정리: `docs/cycles/cycle_3.md`에 STT 품질/액션 아이템 검증 결과 기록
- **Cycle 4 – P3 (사진 비서 MVP)**
5. **P3 – 사진 비서 MVP**
   - 이미지 메타/임베딩 추출, 중복 탐지·베스트샷 추천 알고리즘 구현
    - GPU/CPU 선택 정책 및 캐시 관리 정비
    - 자료 정리: `docs/cycles/cycle_4.md`에 모델 성능 및 리소스 통계 정리
- **Cycle 5 – P4 (하이브리드/운영 관리)**
6. **P4 – 하이브리드/운영 관리**
   - 클라우드 오프로딩, 감사 로그, 권한 시스템 강화
    - 정책 기반 모델 자동 선택 및 대시보드/경보 체계 구축
    - 자료 정리: `docs/cycles/cycle_5.md`에 감사/권한 시나리오와 운영 가이드 문서화
- **Cycle 6 – 검증 및 출시 준비**
7. **검증 및 출시 준비**
   - KPI 측정 자동화, 대용량/PII 시나리오 회귀 테스트
    - 설치 마법사 및 작업 센터 UX 폴리싱, 문서화/배포 스크립트 정리
    - 자료 정리: `docs/cycles/cycle_6.md`에 KPI 달성 여부와 릴리스 노트 초안 작성
